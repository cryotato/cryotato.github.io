---
# Only the main Sass file needs front matter (the dashes are enough)
search: false
---

@charset "utf-8";

@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'default' }}"; // skin
@import "minimal-mistakes"; // main partials

/* ==========================================================================
   Dithered Lo-Fi Styles - Variables
   ========================================================================== */
:root {
  /* --- Define your static colors --- */
  --light: #f5f5f5;
  --dark: #262626; 

  /* --- Dot Definitions --- */
  --gl: radial-gradient(circle 1px at 0px 0px, var(--dark) 1px, transparent 0);
  --gd: radial-gradient(circle 1px at 0px 0px, var(--light) 1px, transparent 0);

  /* --- Dithered Background Patterns (Copy Directly) --- */
  // Patterns: Dark dots on Light background
  --bg-0: var(--light); // Solid Light
  --bg-1: var(--gl) 0px 0px / 4px 4px, var(--light); // Sparse dots
  --bg-2: var(--gl) 0px 0px / 4px 4px, var(--gl) 2px 2px / 4px 4px, var(--light); // Medium density dots (checkerboard-ish)
  --bg-3: var(--gl) 0px 0px / 2px 2px, var(--light); // Dense dots (like 50% grey)
  --bg-4: var(--gl) 0px 0px / 2px 2px, var(--gl) 1px 1px / 2px 2px, var(--light); // Very dense dots

  // Patterns: Light dots on Dark background (adjust if needed)
  --bg-5: var(--gd) 0px 0px / 2px 2px, var(--dark); // Dense light dots on dark
  --bg-6: var(--gd) 0px 0px / 4px 4px, var(--gd) 2px 2px / 4px 4px, var(--dark); // Medium density light dots
  --bg-7: var(--gd) 0px 0px / 4px 4px, var(--dark); // Sparse light dots
  --bg-8: var(--dark); // Solid Dark

  /* --- Pixelated Text Shadow Definitions (Copy Directly) --- */
  --l-shadow: // Outline for dark text on light background
    -1px -1px 0 var(--light), 0 -1px 0 var(--light), 1px -1px 0 var(--light),
    1px 0 0 var(--light), 1px 1px 0 var(--light), 0 1px 0 var(--light),
    -1px 1px 0 var(--light), -1px 0 0 var(--light);
  --d-shadow: // Outline for light text on dark background
    -1px -1px 0 var(--dark), 0 -1px 0 var(--dark), 1px -1px 0 var(--dark),
    1px 0 0 var(--dark), 1px 1px 0 var(--dark), 0 1px 0 var(--dark),
    -1px 1px 0 var(--dark), -1px 0 0 var(--dark);

   /* --- Standard Border --- */
   --border-standard: 2px solid var(--dark); // Define a reusable border
}

/* ==========================================================================
   Text Readability Improvements (Hyper-Focused Specificity)
   ========================================================================== */

/* --- Base Body Text (Paragraphs, Lists) --- */
/* Use theme's own content wrapper class for higher specificity */
.page__content p,
.page__content ul li,
.page__content ol li {
  text-shadow: var(--l-shadow) !important;
  color: var(--dark) !important; // Ensure dark text
}
/* Ensure base body background is set */
body {
  background: var(--bg-0) !important;
}

/* --- Headings --- */
h1, h2, h3, h4, h5, h6 {
  text-shadow: var(--l-shadow) !important;
  color: var(--dark) !important; // Ensure dark text
}

/* --- General Links (excluding specific areas) --- */
a:not(.masthead a):not(.sidebar a):not(.toc a):not(.page__footer a):not(.btn):not(.button) {
  text-shadow: var(--l-shadow) !important;
  color: var(--dark) !important; // Ensure dark text
}

/* --- Blockquotes --- */
blockquote,
blockquote p {
  text-shadow: var(--l-shadow) !important;
  color: var(--dark) !important; // Ensure dark text
}

/* --- Code Blocks & Inline Code --- */
pre,
p code, li code, h1 code, h2 code, h3 code, h4 code, h5 code, h6 code {
  text-shadow: var(--l-shadow) !important; // Light shadow for dark text
  // Color is usually handled okay by themes/syntax highlighters, but force if needed:
  // color: var(--dark) !important;
}

/* --- Buttons (Already Styled, Re-affirm shadow) --- */
button, .btn {
  text-shadow: var(--l-shadow) !important;
  &:hover {
    text-shadow: var(--d-shadow) !important;
  }
}

/* --- FIX FOR SIDEBARS (Author & TOC) --- */
/* Target elements *directly within* sidebar/toc classes */
.sidebar p,
.sidebar li,
.sidebar h1, .sidebar h2, .sidebar h3, .sidebar h4, /* Target headings in sidebar */
.sidebar .author__name,
.sidebar .author__bio,
.sidebar .author__urls-label,
.sidebar a, /* Target links specifically within .sidebar */
.toc, /* Target TOC container itself if it has text */
.toc__menu, /* Target TOC menu */
.toc__title, /* Target TOC title */
.toc a,  /* Target links specifically within .toc */
.toc li /* Target list items within .toc */
{
  text-shadow: var(--l-shadow) !important; // Light shadow (assuming light dither bg)
  color: var(--dark) !important;       // Force dark text color
  // background: transparent !important; // Uncomment THIS LINE ONLY if text still has weird background artifacts
}


/* --- FIX FOR FOOTER --- */
/* Target elements *directly within* footer classes */
.page__footer, /* Target footer container itself */
.page__footer p,
.page__footer span, /* Target span elements */
.page__footer li,
.page__footer a {
  text-shadow: var(--l-shadow) !important; // Light shadow (assuming light dither bg)
  color: var(--dark) !important;       // Force dark text color
}


/* --- FIX FOR SITE TITLE in Masthead --- */
/* Re-apply with high specificity */
.masthead nav#site-nav a.site-title { // Use ID and class for very high specificity
  color: var(--light) !important;
  text-shadow: var(--d-shadow) !important; // Dark shadow for light text
  // Test: Does increasing offset slightly make it visible? (If still not working)
  // text-shadow: -2px -2px 0 var(--dark), 0 -2px 0 var(--dark), 2px -2px 0 var(--dark), 2px 0 0 var(--dark), 2px 2px 0 var(--dark), 0 2px 0 var(--dark), -2px 2px 0 var(--dark), -2px 0 0 var(--dark) !important;
}

/* --- FIX FOR MENU ITEMS (Initial State Shadow) --- */
/* Ensure the initial state shadow is also important */
.masthead .visible-links .masthead__menu-item a {
    text-shadow: var(--l-shadow) !important; // Light shadow for dark text
    /* Ensure hover state shadow is important too */
    &:hover {
        text-shadow: var(--d-shadow) !important; // Dark shadow for light text
    }
}




body {
  /* --- Use variables for background and color --- */
  background: var(--bg-0); // Use the solid light variable
  color: var(--dark);     // Use the solid dark variable

  /* --- Keep your font settings --- */
  font-family: "Courier New", Courier, monospace;
  font-size: 18px;
  // line-height: 1.6;

  /* --- Optional: Add a base border to everything for a hard edge? --- */
  // border: var(--border-standard); // Maybe too much, apply selectively later
} // Make sure this closing brace is present!

/* --- Modify Link Style --- */
a {
  color: inherit; // Keep this
  text-decoration: underline; // Simple underline often works well for lo-fi
  // Optionally add hover effect
  &:hover {
    // background: var(--bg-1); // Subtle dither on hover?
    // color: var(--light);    // Invert color?
    // text-shadow: var(--d-shadow); // Add outline?
  }
}

/* --- Keep your heading font override --- */
h1, h2, h3, h4, h5, h6 {
  font-family: "Courier New", Courier, monospace;
  // Optional: Add outline to headings on light background?
  // text-shadow: var(--l-shadow);
}

/* ==========================================================================
   Masthead Styling (Header) with Button-Style Menu Items & Animation
   ========================================================================== */

/* --- Base Masthead Styles --- */
.masthead {
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-7); // Dithered dark background (--bg-8 for solid)
  color: var(--light);
  // border-bottom: var(--border-standard); // Optional border

  /* --- Force inner wrappers to be transparent --- */
  .masthead__inner-wrap,
  .masthead__menu,
  #site-nav {
    background: transparent !important;
  }
}

/* --- Style the SITE TITLE and SEARCH TOGGLE (No Animation) --- */
.masthead .site-title,
.masthead .search__toggle {
  font-family: "Courier New", Courier, monospace;
  color: var(--light) !important;
  text-shadow: var(--d-shadow); // Dark shadow for light text
  text-decoration: none;
  background: transparent; // Ensure no background initially
  transition: text-decoration 0.2s ease;

  &:hover {
    text-decoration: underline; // Simple underline on hover
  }
}

/* --- Style the MENU ITEMS like Codepen Buttons (With Animation on Hover) --- */
.masthead .visible-links .masthead__menu-item a {
  font-family: "Courier New", Courier, monospace;
  display: inline-block;
  padding: 0.5em 1em;
  font-weight: bold; // <<< ADD THIS LINE for bold text
  border-radius: 0.5em; // <<< ADD THIS LINE for rounded corners (adjust value as needed, e.g., 4px, 6px)

  /* --- Initial State (Like Codepen Button) --- */
  background: var(--bg-0);
  color: var(--dark) !important;
  text-shadow: var(--l-shadow); // Note: This relies on the shadow fix below!
  border: var(--border-standard);

  text-decoration: none;
  transition: none;

  &:hover {
    animation: light-to-dark 200ms linear forwards;
    color: var(--light) !important;
    text-shadow: var(--d-shadow); // Note: This relies on the shadow fix below!
    text-decoration: none;
    /* Keep border rounded on hover */
    border-radius: 0.5em; // Ensure border-radius persists
  }
}

/* --- Ensure greedy-nav button icon is visible --- */
.masthead .greedy-nav__toggle .navicon {
  background: var(--light);
}
.masthead .greedy-nav__toggle .navicon:before,
.masthead .greedy-nav__toggle .navicon:after {
  background: var(--light);
}

/* --- Ensure search icon is visible --- */
.masthead .search__toggle {
    color: var(--light) !important; // Ensure icon color itself is light
}



/* --- Modify Footer --- */
.page__footer {
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-2); // Example: Give footer a dithered background
  color: var(--dark);
  border-top: var(--border-standard); // Add border
  padding-top: 1em; // Add some spacing
  padding-bottom: 1em;
}
.page__footer a,
.page__footer span,
.page__footer p {
    font-family: "Courier New", Courier, monospace;
    color: var(--dark); // Ensure text color is dark
    text-shadow: var(--l-shadow); // Add light outline
}
.page__footer a:hover {
   // Add hover effect if desired
}


/* --- Modify Table of Contents --- */
.toc {
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-1); // Example: Light dither background
  border: var(--border-standard);
  padding: 1em;
}
.toc__menu,
.toc__title,
.toc a {
  font-family: "Courier New", Courier, monospace;
  color: var(--dark);
  text-shadow: var(--l-shadow);
}
.toc a:hover {
  background: var(--bg-2); // Darker dither on hover
}

/* --- Modify Author Sidebar --- */
.sidebar { // Target the whole sidebar container
    font-family: "Courier New", Courier, monospace;
    background: var(--bg-2); // Example: Dither background
    border: var(--border-standard);
    padding: 1em;
    color: var(--dark); // Set base text color for sidebar
}
.sidebar .author__name,
.sidebar .author__bio,
.sidebar .author__urls .author__urls-label {
  font-family: "Courier New", Courier, monospace;
  color: var(--dark);
  text-shadow: var(--l-shadow); // Add outline
}
.sidebar p,
.sidebar li { // Apply to paragraphs and list items too
    font-family: "Courier New", Courier, monospace;
    color: var(--dark);
    text-shadow: var(--l-shadow);
}
.sidebar a { // Style links within the sidebar
    color: var(--dark);
    text-shadow: var(--l-shadow);
    text-decoration: underline;
    &:hover {
      background: var(--bg-3); // Example hover
    }
}


/* --- Modify Buttons --- */
button, .btn {
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-1); // Start with light dither
  color: var(--dark);
  border: var(--border-standard); // Use the standard border
  text-shadow: var(--l-shadow); // Light outline for dark text
  padding: 0.5em 1em; // Adjust padding as needed
  cursor: pointer;
  transition: background 200ms linear, color 200ms linear, text-shadow 200ms linear; // Smooth transition
  box-shadow: none; // Remove default theme shadows if any
  border-radius: 0; // Sharp corners for lo-fi feel (optional)
}
button:hover, .btn:hover {
  background: var(--bg-7); // Change to darker dither on hover
  color: var(--light); // Invert text color
  text-shadow: var(--d-shadow); // Add dark outline for light text
}


/* --- Modify Code Blocks --- */
pre {
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-2); // Dithered background for code blocks
  border: var(--border-standard);
  padding: 1em;
  color: var(--dark); // Ensure text is readable
  text-shadow: var(--l-shadow); // Add outline
  overflow-x: auto; // Ensure horizontal scrolling if needed
}
// Style inline code
p code, li code, h1 code, h2 code, h3 code, h4 code, h5 code, h6 code { // Target code inside text elements
  font-family: "Courier New", Courier, monospace;
  background: var(--bg-1); // Lighter dither for inline
  border: 1px solid var(--dark); // Thinner border for inline
  padding: 0.1em 0.4em;
  border-radius: 0; // Sharp corners
  color: var(--dark);
  text-shadow: var(--l-shadow);
}

/* --- Modify Search Input (Keep your font setting) --- */
.search-input,
.search-input::placeholder {
  font-family: "Courier New", Courier, monospace;
  // Optional: Add dither/border styling
  background: var(--bg-0);
  border: var(--border-standard);
  padding: 0.5em;
  color: var(--dark);
}

/* ==========================================================================
   Codepen Dither Hover Animations
   ========================================================================== */
@keyframes light-to-dark {
  0% { background: var(--bg-0); }
  12.5% { background: var(--bg-1); }
  25% { background: var(--bg-2); }
  37.5% { background: var(--bg-3); }
  50% { background: var(--bg-4); }
  62.5% { background: var(--bg-5); }
  75% { background: var(--bg-6); }
  87.5% { background: var(--bg-7); }
  100% { background: var(--bg-8); }
}

@keyframes dark-to-light {
  0% { background: var(--bg-8); }
  12.5% { background: var(--bg-7); }
  25% { background: var(--bg-6); }
  37.5% { background: var(--bg-5); }
  50% { background: var(--bg-4); }
  62.5% { background: var(--bg-3); }
  75% { background: var(--bg-2); }
  87.5% { background: var(--bg-1); }
  100% { background: var(--bg-0); }
}
